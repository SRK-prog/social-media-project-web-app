"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[391],{9310:function(e,s,n){n.d(s,{Z:function(){return w}});var t=n(2791),l=n(885),i=n(9271),o=n(1523),r=n(2426),c=n.n(r),a=n(6094),d=n(850),u=n(8787),v=(0,n(8499).Z)(t.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined"),m=n(2913),x=n(7361);var f=function(e,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=(0,t.useState)(0),o=(0,l.Z)(i,2),r=o[0],c=o[1];return(0,t.useEffect)((function(){var t=setTimeout((function(){1===r&&e(),c(0)}),n);return 2===r&&s(),function(){return clearTimeout(t)}}),[r]),function(){return c((function(e){return e+1}))}},h=n(3402),p=n(184),j=function(e){var s,n,r,j=e.post,N=e.user,g=(0,t.useState)(j.likes.length),w=(0,l.Z)(g,2),Z=w[0],b=w[1],k=(0,t.useState)(!1),C=(0,l.Z)(k,2),I=C[0],y=C[1],F=(0,i.k6)();(0,t.useEffect)((function(){y(j.likes.includes(N.userId))}),[N.userId,j.likes]);var S=function(){try{m.Z.put("/posts/like",{postId:j._id},{headers:{Authorization:"Bearer ".concat(N.accessToken)}})}catch(e){}b((function(e){return I?e-1:e+1})),y((function(e){return!e}))},z=f((function(){return F.push("/postdetails/".concat(j._id))}),S);return(0,p.jsxs)("div",{className:"mt-2 rounded-lg bg-white border border-gray-100 py-2.5",children:[(0,p.jsx)("div",{className:"px-3",children:(0,p.jsxs)(o.rU,{to:"/profile/".concat(null===j||void 0===j||null===(s=j.user)||void 0===s?void 0:s._id),className:"flex gap-2.5 pb-2",children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{className:"h-10 w-10 object-cover rounded-full",src:(null===j||void 0===j||null===(n=j.user)||void 0===n?void 0:n.profilepicture)||x.tU,alt:""})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:null===j||void 0===j||null===(r=j.user)||void 0===r?void 0:r.username}),(0,p.jsx)("div",{className:"text-darkGray-10 text-xs",children:c()(j.createdAt).fromNow()})]})]})}),(0,p.jsxs)("div",{onClick:z,children:[(0,p.jsx)("div",{children:j.photo&&(0,p.jsx)("img",{className:"md:max-h-92.5 max-h-77.5 w-full",src:j.photo,alt:""})}),(0,p.jsxs)("div",{className:"md:px-6 px-4",children:[(0,p.jsx)("div",{className:"mt-2 md:text-3xl text-xl font-medium",children:null===j||void 0===j?void 0:j.title}),(0,p.jsx)("div",{className:"text-black mt-2 mb-2 trucate-word",children:null===j||void 0===j?void 0:j.description})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between md:px-6 px-4",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsxs)("button",{onClick:S,className:"flex cursor-pointer items-center",children:[I?(0,p.jsx)(a.Z,{style:{color:"red"}}):(0,p.jsx)(d.Z,{}),(0,p.jsx)("span",{children:Z})]}),(0,p.jsx)(o.rU,{to:"/postdetails/".concat(j._id),children:(0,p.jsx)(u.Z,{})})]}),(0,p.jsx)("button",{onClick:function(){navigator.clipboard.writeText("".concat(window.origin,"/postdetails/").concat(j._id)),h.ZP.success("Copied!",{position:"top-right"})},className:"",children:(0,p.jsx)(v,{})})]})]})},N=n(5489),g=n(364);var w=function(e){var s=e.posts,n=e.NoLink,t=(0,g.v9)((function(e){return e.user}));return(0,p.jsxs)("div",{className:"mt-1 flex-[6.5] md:px-0 mb-7 px-2 min-h-screen",children:[!n&&(0,p.jsx)(N.Z,{}),s.map((function(e,s){return null===e?"":(0,p.jsx)(j,{user:t,post:e},s)}))]})}},5489:function(e,s,n){n.d(s,{Z:function(){return i}});n(2791);var t=n(1523),l=n(184);function i(){return(0,l.jsxs)("div",{className:"mt-3 mb-2 flex gap-2",children:[(0,l.jsx)(t.OL,{className:"ml-2 text-black-0 py-1 px2",exact:!0,to:"/",activeClassName:"font-black",children:"Posts"}),(0,l.jsx)(t.OL,{className:"ml-2 text-black-0 py-1 px2",to:"/feeds",activeClassName:"font-black",children:"Feeds"})]})}},220:function(e,s,n){n.d(s,{Z:function(){return j}});var t=n(1523),l=n(7510),i=n(2037),o=n(4900),r=n(9628),c=n(963),a=n(6274),d=n(4861),u=n(2279),v=n(9799),m=n(9547),x=n(5449),f=n(184),h=[{name:"Create Post",to:"/write",Icon:l.Z},{name:"Home",to:"/",Icon:i.Z},{name:"Chats",to:"/chat",Icon:o.Z},{name:"Questions",to:"/contact",Icon:r.Z},{name:"Sign In/Up",to:"/login",Icon:c.Z},{name:"About",to:"/about",Icon:a.Z},{name:"Contact",to:"/contact",Icon:d.Z}],p=[{to:"https://twitter.com/SRK_R_?t=58WfgjgrqabaZrXWBHTZkg&s=08",Icon:u.Z},{to:"https://github.com/SRK-prog/",Icon:v.Z},{to:"https://www.linkedin.com/in/sivaramakrishnan-r262/",Icon:m.Z},{to:"https://www.instagram.com/siva.r12/",Icon:x.Z}];function j(){return(0,f.jsx)("div",{className:"h-screen-cal-55 top-[55px] flex-[3] sticky overflow-y-auto bg-gray-70 sidebar-scrollbar md:block hidden",children:(0,f.jsxs)("div",{className:"p-4",children:[(0,f.jsx)("ul",{className:"flex flex-col gap-2 font-medium text-gray-80",children:h.map((function(e,s){var n=e.name,l=e.Icon,i=e.to;return(0,f.jsxs)(t.rU,{to:i,className:"flex items-center duration-200 px-3 py-2.5 rounded gap-4 hover:bg-lightBlue-10 hover:text-blue-20",children:[(0,f.jsx)(l,{}),(0,f.jsx)("span",{children:n})]},s)}))}),(0,f.jsx)("div",{className:"flex mt-5 gap-1 mb-2 items-center justify-center",children:p.map((function(e,s){var n=e.Icon,t=e.to;return(0,f.jsx)("a",{target:"_blank",rel:"noreferrer",href:t,children:(0,f.jsx)(n,{className:"text-3xl text-gray-90 hover:text-[#353434]"})},s)}))}),(0,f.jsx)("hr",{className:"py-5"})]})})}},3391:function(e,s,n){n.r(s),n.d(s,{default:function(){return Z}});var t=n(4165),l=n(5861),i=n(885),o=n(2791),r=n(8499),c=(0,r.Z)(o.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Room"),a=(0,r.Z)(o.createElement(o.Fragment,null,o.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"Schedule"),d=n(9271),u=n(1523),v=n(364),m=n(220),x=n(7361),f=n(2913),h=n(9310),p=n(3436),j=n(184),N=function(e){var s=e.data,n=(0,d.k6)();return(0,j.jsxs)("div",{onClick:function(){return n.push("/profile/".concat(null===s||void 0===s?void 0:s._id))},className:"flex p-2.5 cursor-pointer bg-white mb-1 mx-1",children:[(0,j.jsx)("img",{className:"w-10 h-10 object-cover mr-5 rounded-full",src:(null===s||void 0===s?void 0:s.profilepicture)||x.tU,alt:""}),(0,j.jsx)("div",{className:"font-medium",children:(0,j.jsx)("div",{children:null===s||void 0===s?void 0:s.username})})]})},g=n(3877),w=function(e){var s=e.type,n=e.userId,r=e.onClose,c=(0,o.useState)(!0),a=(0,i.Z)(c,2),d=a[0],u=a[1],v=(0,o.useState)([]),m=(0,i.Z)(v,2),x=m[0],h=m[1];return(0,o.useEffect)((function(){(0,l.Z)((0,t.Z)().mark((function e(){var l,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=3;break}return e.abrupt("return");case 3:return l="get-"+s.toLowerCase(),u(!0),e.next=7,f.Z.get("/users/"+l,{params:{userId:n}});case 7:i=e.sent,null!==(o=i.data)&&void 0!==o&&o.response&&h(null===o||void 0===o?void 0:o.response),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h([]),console.log(e.t0);case 16:return e.prev=16,u(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})))()}),[s,n]),d?(0,j.jsx)(p.Z,{}):(0,j.jsxs)("div",{className:"h-full",children:[(0,j.jsxs)("div",{className:"flex justify-between md:mt-10 mt-5 md:mb-2 mb-3 mx-4",children:[(0,j.jsx)("button",{onClick:function(){return r(null)},children:(0,j.jsx)(g.Z,{})}),(0,j.jsx)("div",{className:"text-center font-bold text-xl capitalize",children:null===s||void 0===s?void 0:s.toLowerCase()})]}),x.map((function(e){return(0,j.jsx)(N,{data:e},null===e||void 0===e?void 0:e._id)}))]})};function Z(){var e,s=(0,v.v9)((function(e){return e.user})),n=(0,o.useState)({}),r=(0,i.Z)(n,2),N=r[0],g=r[1],Z=(0,o.useState)(0),b=(0,i.Z)(Z,2),k=b[0],C=b[1],I=(0,o.useState)(!1),y=(0,i.Z)(I,2),F=y[0],S=y[1],z=(0,o.useState)([]),L=(0,i.Z)(z,2),E=L[0],M=L[1],P=(0,o.useState)(!0),_=(0,i.Z)(P,2),B=_[0],H=_[1],O=(0,o.useState)(null),T=(0,i.Z)(O,2),U=T[0],A=T[1],R=(0,d.TH)().pathname.split("/")[2],V=(0,d.k6)(),W=(0,o.useRef)(null),D=function(e){return window.scrollTo(0,e.current.offsetTop)};(0,o.useEffect)((function(){document.title=null!==N&&void 0!==N&&N.username?"Profile | ".concat(null===N||void 0===N?void 0:N.username):"Profile"}),[null===N||void 0===N?void 0:N.username]);var J=function(e){A((function(s){return s===e?null:e}))},G=function(){try{f.Z.put("/users/profile/follow",{profileId:null===N||void 0===N?void 0:N._id},{headers:{Authorization:"Bearer ".concat(s.accessToken)}})}catch(e){console.log("follow feature error: ",e)}C(F?k-1:k+1),S((function(e){return!e}))};(0,o.useEffect)((function(){(0,l.Z)((0,t.Z)().mark((function e(){var n,l,o,r,c,a,d,u,v,m,x,h;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(""),H(!0),e.prev=2,"username email profilepicture followers followings createdAt lastSeen",e.next=6,Promise.all([f.Z.get("/users",{params:{userId:R,select:"username email profilepicture followers followings createdAt lastSeen"}}),f.Z.get("/posts/profile",{params:{userId:R}}).catch((function(e){404===e.response.status&&M([])}))]);case 6:v=e.sent,m=(0,i.Z)(v,2),x=m[0],(h=m[1])&&M((null===(n=h.data)||void 0===n?void 0:n.response)||[]),g(null===(l=x.data)||void 0===l?void 0:l.response),C(null===(o=x.data)||void 0===o||null===(r=o.response)||void 0===r||null===(c=r.followers)||void 0===c?void 0:c.length),S(null===(a=x.data)||void 0===a||null===(d=a.response)||void 0===d||null===(u=d.followers)||void 0===u?void 0:u.includes(s.userId)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),V.push("/error404"),console.log("profile error: ",e.t0);case 20:return e.prev=20,H(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})))()}),[R,s.userId]);var K=function(){var e;return null===N||void 0===N||null===(e=N.followings)||void 0===e?void 0:e.includes(s.userId)};return(0,j.jsxs)("div",{className:"flex max-w-360 mx-auto relative",children:[(0,j.jsx)("div",{className:"flex-[2] md:block hidden",children:(0,j.jsx)(m.Z,{})}),B&&(0,j.jsx)("div",{className:"flex-[6.5]",children:(0,j.jsx)(p.Z,{})}),!B&&(0,j.jsxs)("div",{className:"relative bg-gray-130 ".concat(U?"flex-[4.5]":"flex-[6.5]"),children:[(0,j.jsx)("div",{className:"h-24 bg-gray-140"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{className:"ProfileImage",src:(null===N||void 0===N?void 0:N.profilepicture)||x.Xm,alt:""}),(null===N||void 0===N?void 0:N.description)&&(0,j.jsx)("div",{style:{height:"25px"}}),(null===N||void 0===N?void 0:N.city)&&(0,j.jsx)("div",{style:{height:"25px"}}),(0,j.jsxs)("div",{className:"ProfileDetails",children:[(0,j.jsxs)("div",{className:"FollowFlex",children:[(0,j.jsx)("span",{className:"FollowFlexBox"}),(0,j.jsxs)("span",{className:"FollowCounts",children:[(0,j.jsxs)("span",{onClick:function(){return D(W)},className:"Follows cursor-pointer",children:[(0,j.jsx)("div",{className:"CountsTitles",children:"Posts"}),(0,j.jsx)("div",{className:"CountsOf",children:E.length})]}),(0,j.jsxs)("button",{onClick:function(){k&&J("FOLLOWERS")},className:"Follows",children:[(0,j.jsx)("div",{className:"CountsTitles",children:"Followers"}),(0,j.jsx)("div",{className:"CountsOf",children:k})]}),(0,j.jsxs)("button",{onClick:function(){var e;null!==N&&void 0!==N&&null!==(e=N.followings)&&void 0!==e&&e.length&&J("FOLLOWINGS")},className:"Follows",children:[(0,j.jsx)("div",{className:"CountsTitles",children:"Following"}),(0,j.jsx)("div",{className:"CountsOf",children:(null===N||void 0===N||null===(e=N.followings)||void 0===e?void 0:e.length)||0})]})]})]}),(0,j.jsxs)("div",{className:"UserInfo",children:[(0,j.jsxs)("div",{className:"UserName",children:[(0,j.jsx)("h2",{children:null===N||void 0===N?void 0:N.username}),(0,j.jsxs)("p",{children:["@",null===N||void 0===N?void 0:N.username]})]}),(0,j.jsx)("div",{className:"BtnWrper",children:(null===N||void 0===N?void 0:N._id)!==(null===s||void 0===s?void 0:s.userId)&&(0,j.jsxs)("div",{className:"BtnSection",children:[(0,j.jsx)("div",{className:"FollowBtn",children:(0,j.jsx)("div",{children:F?(0,j.jsx)("button",{className:"followingbutton",onClick:G,children:"Following"}):(0,j.jsx)("button",{className:K()?"followbackbutton":"followbutton",onClick:G,children:K()?"Follow back":"Follow"})})}),(F||K())&&(0,j.jsx)("div",{className:"FollowBtn",children:(0,j.jsx)(u.rU,{to:"/chat",className:"LinkBtn text-white",children:"Messege"})})]})})]}),(0,j.jsx)("div",{className:"DescContainer",children:(null===N||void 0===N?void 0:N.description)&&(0,j.jsx)("div",{className:"UserAbout",children:null===N||void 0===N?void 0:N.description})}),(0,j.jsxs)("div",{className:"JoinDate",children:[(null===N||void 0===N?void 0:N.city)&&(0,j.jsxs)("span",{className:"JoinItems",children:[(0,j.jsx)(c,{className:"mr-2"})," ",null===N||void 0===N?void 0:N.city]}),(0,j.jsxs)("span",{className:"JoinItems",children:[(0,j.jsx)(a,{className:"mr-2"}),new Date(null===N||void 0===N?void 0:N.createdAt).toDateString()]})]})]})]}),(0,j.jsx)("div",{className:"ProfilePostWrapper",children:(0,j.jsx)("div",{ref:W,className:"ProfilePosts",children:!(null===E||void 0===E||!E.length)&&(0,j.jsx)(h.Z,{NoLink:!0,posts:E})})})]}),(0,j.jsx)("div",{className:"md:flex-[2]  bg-gray-130 md:static w-full min-h-full absolute z-50 ".concat(!U&&"hidden"),children:(0,j.jsx)(w,{onClose:A,type:U,userId:null===N||void 0===N?void 0:N._id})})]})}},3877:function(e,s,n){var t=n(2791),l=n(8499);s.Z=(0,l.Z)(t.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")},6094:function(e,s,n){var t=n(2791),l=n(8499);s.Z=(0,l.Z)(t.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite")},850:function(e,s,n){var t=n(2791),l=n(8499);s.Z=(0,l.Z)(t.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorderOutlined")},8787:function(e,s,n){var t=n(2791),l=n(8499);s.Z=(0,l.Z)(t.createElement("path",{d:"M20 17.17L18.83 16H4V4h16v13.17zM20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2z"}),"ModeCommentOutlined")}}]);
//# sourceMappingURL=391.78f1352d.chunk.js.map