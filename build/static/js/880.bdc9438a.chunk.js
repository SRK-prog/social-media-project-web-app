"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[880],{7494:function(e,s,l){l.d(s,{Z:function(){return g}});var n=l(2791),t=l(885),i=l(9271),o=l(1523),r=l(2426),c=l.n(r),a=l(6094),d=l(850),u=l(8787),m=l(4551),v=l(2913),x=l(7361);var h=function(e,s){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=(0,n.useState)(0),o=(0,t.Z)(i,2),r=o[0],c=o[1];return(0,n.useEffect)((function(){var n=setTimeout((function(){1===r&&e(),c(0)}),l);return 2===r&&s(),function(){return clearTimeout(n)}}),[r]),function(){return c((function(e){return e+1}))}},f=l(184),p=function(e){var s,l,r,p=e.post,j=e.user,N=(0,n.useState)(p.likes.length),g=(0,t.Z)(N,2),w=g[0],Z=g[1],b=(0,n.useState)(!1),k=(0,t.Z)(b,2),C=k[0],I=k[1],y=(0,i.k6)();(0,n.useEffect)((function(){I(p.likes.includes(j.userId))}),[j.userId,p.likes]);var F=function(){try{v.Z.put("/posts/like",{postId:p._id},{headers:{Authorization:"Bearer ".concat(j.accessToken)}})}catch(e){}Z((function(e){return C?e-1:e+1})),I((function(e){return!e}))},S=h((function(){return y.push("/postdetails/".concat(p._id))}),F);return(0,f.jsxs)("div",{className:"mt-2 rounded-lg bg-white border border-gray-100 py-2.5",children:[(0,f.jsx)("div",{className:"px-3",children:(0,f.jsxs)(o.rU,{to:"/profile/".concat(null===p||void 0===p||null===(s=p.user)||void 0===s?void 0:s._id),className:"flex gap-2.5 pb-2",children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{className:"h-10 w-10 object-cover rounded-full",src:(null===p||void 0===p||null===(l=p.user)||void 0===l?void 0:l.profilepicture)||x.tU,alt:""})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:null===p||void 0===p||null===(r=p.user)||void 0===r?void 0:r.username}),(0,f.jsx)("div",{className:"text-darkGray-10 text-xs",children:c()(p.createdAt).fromNow()})]})]})}),(0,f.jsxs)("div",{onClick:S,children:[(0,f.jsx)("div",{children:p.photo&&(0,f.jsx)("img",{className:"md:max-h-92.5 max-h-77.5 w-full",src:p.photo,alt:""})}),(0,f.jsxs)("div",{className:"md:px-6 px-4",children:[(0,f.jsx)("div",{className:"mt-2 md:text-3xl text-xl font-medium",children:null===p||void 0===p?void 0:p.title}),(0,f.jsx)("div",{className:"text-black mt-2 mb-2 trucate-word",children:null===p||void 0===p?void 0:p.description})]})]}),(0,f.jsxs)("div",{className:"flex items-center justify-between md:px-6 px-4",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsxs)("button",{onClick:F,className:"flex cursor-pointer items-center",children:[C?(0,f.jsx)(a.Z,{style:{color:"red"}}):(0,f.jsx)(d.Z,{}),(0,f.jsx)("span",{children:w})]}),(0,f.jsx)(o.rU,{to:"/postdetails/".concat(p._id),children:(0,f.jsx)(u.Z,{})})]}),(0,f.jsx)("div",{className:"",children:(0,f.jsx)(m.Z,{})})]})]})},j=l(5489),N=l(364);var g=function(e){var s=e.posts,l=e.NoLink,n=(0,N.v9)((function(e){return e.user}));return(0,f.jsxs)("div",{className:"mt-1 flex-[6.5] md:px-0 mb-7 px-2",children:[!l&&(0,f.jsx)(j.Z,{}),s.map((function(e,s){return null===e?"":(0,f.jsx)(p,{user:n,post:e},s)}))]})}},5489:function(e,s,l){l.d(s,{Z:function(){return i}});l(2791);var n=l(1523),t=l(184);function i(){return(0,t.jsxs)("div",{className:"mt-3 mb-2 flex gap-2",children:[(0,t.jsx)(n.OL,{className:"ml-2 text-black-0 py-1 px2",exact:!0,to:"/",activeClassName:"font-black",children:"Feed"}),(0,t.jsx)(n.OL,{className:"ml-2 text-black-0 py-1 px2",to:"/feeds",activeClassName:"font-black",children:"Post"})]})}},220:function(e,s,l){l.d(s,{Z:function(){return j}});var n=l(1523),t=l(7510),i=l(2037),o=l(4900),r=l(9628),c=l(963),a=l(6274),d=l(4861),u=l(2279),m=l(9799),v=l(9547),x=l(5449),h=l(184),f=[{name:"Create Post",to:"/write",Icon:t.Z},{name:"Home",to:"/",Icon:i.Z},{name:"Chats",to:"/chat",Icon:o.Z},{name:"Questions",to:"/contact",Icon:r.Z},{name:"Sign In/Up",to:"/login",Icon:c.Z},{name:"About",to:"/about",Icon:a.Z},{name:"Contact",to:"/contact",Icon:d.Z}],p=[{to:"https://twitter.com/SRK_R_?t=58WfgjgrqabaZrXWBHTZkg&s=08",Icon:u.Z},{to:"https://github.com/SRK-prog/",Icon:m.Z},{to:"https://www.linkedin.com/in/sivaramakrishnan-r262/",Icon:v.Z},{to:"https://www.instagram.com/siva.r12/",Icon:x.Z}];function j(){return(0,h.jsx)("div",{className:"h-screen-cal-55 top-[55px] flex-[3] sticky overflow-y-auto bg-gray-70 sidebar-scrollbar md:block hidden",children:(0,h.jsxs)("div",{className:"p-4",children:[(0,h.jsx)("ul",{className:"flex flex-col gap-2 font-medium text-gray-80",children:f.map((function(e,s){var l=e.name,t=e.Icon,i=e.to;return(0,h.jsxs)(n.rU,{to:i,className:"flex items-center duration-200 px-3 py-2.5 rounded gap-4 hover:bg-lightBlue-10 hover:text-blue-20",children:[(0,h.jsx)(t,{}),(0,h.jsx)("span",{children:l})]},s)}))}),(0,h.jsx)("div",{className:"flex mt-5 gap-1 mb-2 items-center justify-center",children:p.map((function(e,s){var l=e.Icon,n=e.to;return(0,h.jsx)("a",{target:"_blank",rel:"noreferrer",href:n,children:(0,h.jsx)(l,{className:"text-3xl text-gray-90 hover:text-[#353434]"})},s)}))}),(0,h.jsx)("hr",{className:"py-5"})]})})}},7880:function(e,s,l){l.r(s),l.d(s,{default:function(){return N}});var n=l(4165),t=l(5861),i=l(885),o=l(2791),r=l(8499),c=(0,r.Z)(o.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Room"),a=(0,r.Z)(o.createElement(o.Fragment,null,o.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"Schedule"),d=l(9271),u=l(1523),m=l(364),v=l(220),x=l(7361),h=l(2913),f=l(7494),p=l(3436),j=l(184);function N(){var e,s=(0,m.v9)((function(e){return e.user})),l=(0,o.useState)({}),r=(0,i.Z)(l,2),N=r[0],g=r[1],w=(0,o.useState)(0),Z=(0,i.Z)(w,2),b=Z[0],k=Z[1],C=(0,o.useState)(!1),I=(0,i.Z)(C,2),y=I[0],F=I[1],S=(0,o.useState)([]),z=(0,i.Z)(S,2),M=z[0],E=z[1],P=(0,o.useState)(!0),B=(0,i.Z)(P,2),T=B[0],L=B[1],U=(0,d.TH)().pathname.split("/")[2],_=(0,d.k6)(),A=(0,o.useRef)(null),O=function(e){return window.scrollTo(0,e.current.offsetTop)};(0,o.useEffect)((function(){document.title=null!==N&&void 0!==N&&N.username?"Profile | ".concat(null===N||void 0===N?void 0:N.username):"Profile"}),[null===N||void 0===N?void 0:N.username]);var H=function(){try{h.Z.put("/users/profile/follow",{profileId:null===N||void 0===N?void 0:N._id},{headers:{Authorization:"Bearer ".concat(s.accessToken)}})}catch(e){console.log("follow feature error: ",e)}k(y?b-1:b+1),F((function(e){return!e}))};(0,o.useEffect)((function(){(0,t.Z)((0,n.Z)().mark((function e(){var l,t,o,r,c,a,d,u,m,v,x,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,"username email profilepicture followers followings createdAt lastSeen",e.next=5,Promise.all([h.Z.get("/users",{params:{userId:U,select:"username email profilepicture followers followings createdAt lastSeen"}}),h.Z.get("/posts/profile",{params:{userId:U}}).catch((function(e){404===e.response.status&&E([])}))]);case 5:m=e.sent,v=(0,i.Z)(m,2),x=v[0],(f=v[1])&&E((null===(l=f.data)||void 0===l?void 0:l.response)||[]),g(null===(t=x.data)||void 0===t?void 0:t.response),k(null===(o=x.data)||void 0===o||null===(r=o.response)||void 0===r||null===(c=r.followers)||void 0===c?void 0:c.length),F(null===(a=x.data)||void 0===a||null===(d=a.response)||void 0===d||null===(u=d.followers)||void 0===u?void 0:u.includes(s.userId)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),_.push("/error404"),console.log("profile error: ",e.t0);case 19:return e.prev=19,L(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})))()}),[U,s.userId]);var D=function(){var e;return null===N||void 0===N||null===(e=N.followings)||void 0===e?void 0:e.includes(s.userId)};return(0,j.jsxs)("div",{className:"flex max-w-360 mx-auto",children:[(0,j.jsx)("div",{className:"flex-[2] md:block hidden",children:(0,j.jsx)(v.Z,{})}),T&&(0,j.jsx)("div",{className:"flex-[6.5]",children:(0,j.jsx)(p.Z,{})}),!T&&(0,j.jsxs)("div",{className:"relative flex-[6.5] bg-gray-130",children:[(0,j.jsx)("div",{className:"h-24 bg-gray-140"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{className:"ProfileImage",src:(null===N||void 0===N?void 0:N.profilepicture)||x.Xm,alt:""}),(null===N||void 0===N?void 0:N.description)&&(0,j.jsx)("div",{style:{height:"25px"}}),(null===N||void 0===N?void 0:N.city)&&(0,j.jsx)("div",{style:{height:"25px"}}),(0,j.jsxs)("div",{className:"ProfileDetails",children:[(0,j.jsxs)("div",{className:"FollowFlex",children:[(0,j.jsx)("span",{className:"FollowFlexBox"}),(0,j.jsxs)("span",{className:"FollowCounts",children:[(0,j.jsxs)("span",{onClick:function(){return O(A)},className:"Follows cursor-pointer",children:[(0,j.jsx)("div",{className:"CountsTitles",children:"Posts"}),(0,j.jsx)("div",{className:"CountsOf",children:M.length})]}),(0,j.jsxs)("span",{className:"Follows",children:[(0,j.jsx)("div",{className:"CountsTitles",children:"Followers"}),(0,j.jsx)("div",{className:"CountsOf",children:b})]}),(0,j.jsxs)("span",{className:"Follows",children:[(0,j.jsx)("div",{className:"CountsTitles",children:"Following"}),(0,j.jsx)("div",{className:"CountsOf",children:(null===N||void 0===N||null===(e=N.followings)||void 0===e?void 0:e.length)||0})]})]})]}),(0,j.jsxs)("div",{className:"UserInfo",children:[(0,j.jsxs)("div",{className:"UserName",children:[(0,j.jsx)("h2",{children:null===N||void 0===N?void 0:N.username}),(0,j.jsxs)("p",{children:["@",null===N||void 0===N?void 0:N.username]})]}),(0,j.jsx)("div",{className:"BtnWrper",children:(null===N||void 0===N?void 0:N._id)!==(null===s||void 0===s?void 0:s.userId)&&(0,j.jsxs)("div",{className:"BtnSection",children:[(0,j.jsx)("div",{className:"FollowBtn",children:(0,j.jsx)("div",{children:y?(0,j.jsx)("button",{className:"followingbutton",onClick:H,children:"Following"}):(0,j.jsx)("button",{className:D()?"followbackbutton":"followbutton",onClick:H,children:D()?"Follow back":"Follow"})})}),(y||D())&&(0,j.jsx)("div",{className:"FollowBtn",children:(0,j.jsx)(u.rU,{to:"/chat",className:"LinkBtn text-white",children:"Messege"})})]})})]}),(0,j.jsx)("div",{className:"DescContainer",children:(null===N||void 0===N?void 0:N.description)&&(0,j.jsx)("div",{className:"UserAbout",children:null===N||void 0===N?void 0:N.description})}),(0,j.jsxs)("div",{className:"JoinDate",children:[(null===N||void 0===N?void 0:N.city)&&(0,j.jsxs)("span",{className:"JoinItems",children:[(0,j.jsx)(c,{className:"mr-2"})," ",null===N||void 0===N?void 0:N.city]}),(0,j.jsxs)("span",{className:"JoinItems",children:[(0,j.jsx)(a,{className:"mr-2"}),new Date(null===N||void 0===N?void 0:N.createdAt).toDateString()]})]})]})]}),(0,j.jsx)("div",{className:"ProfilePostWrapper",children:(0,j.jsx)("div",{ref:A,className:"ProfilePosts",children:!(null===M||void 0===M||!M.length)&&(0,j.jsx)(f.Z,{NoLink:!0,posts:M})})})]})]})}},6094:function(e,s,l){var n=l(2791),t=l(8499);s.Z=(0,t.Z)(n.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite")},850:function(e,s,l){var n=l(2791),t=l(8499);s.Z=(0,t.Z)(n.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorderOutlined")},8787:function(e,s,l){var n=l(2791),t=l(8499);s.Z=(0,t.Z)(n.createElement("path",{d:"M20 17.17L18.83 16H4V4h16v13.17zM20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2z"}),"ModeCommentOutlined")},4551:function(e,s,l){var n=l(2791),t=l(8499);s.Z=(0,t.Z)(n.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined")}}]);
//# sourceMappingURL=880.bdc9438a.chunk.js.map