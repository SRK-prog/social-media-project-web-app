"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[752],{7752:function(e,s,r){r.r(s),r.d(s,{default:function(){return v}});var t=r(1413),a=r(4165),n=r(5861),i=r(885),o=r(2791),d=r(1927),l=r(6513),c=r(1134),u=r(2913),m=r(184);function v(e){var s,r,v=e.history,h=e.location,p=(0,c.cI)(),f=p.register,w=p.handleSubmit,x=p.getValues,b=p.formState.errors,g=(0,o.useState)(""),j=(0,i.Z)(g,2),N=j[0],k=j[1],Z=(0,o.useState)(!1),y=(0,i.Z)(Z,2),P=y[0],S=y[1];(0,o.useEffect)((function(){document.title="Reset Password"}),[]),(0,o.useEffect)((function(){var e=new URLSearchParams(null===h||void 0===h?void 0:h.search),s=e.get("id"),r=e.get("token");h.search&&s&&r||v.push("/error404")}),[h.search]);var q=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(s){var r,t,n,i,o,d,l,c,m,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.password,S(!0),k(""),t=new URLSearchParams(null===h||void 0===h?void 0:h.search),n=t.get("id"),i=t.get("token"),e.prev=6,e.next=9,u.Z.post("/reset/new",{password:r},{params:{userId:n,token:i}});case 9:o=e.sent,null!==(d=o.data)&&void 0!==d&&d.message&&v.push("/login"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),k((null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.error)||"Something went wrong!");case 17:return e.prev=17,S(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[6,14,17,20]])})));return function(s){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"mt-16",children:(0,m.jsxs)("form",{className:"rounded-lg mx-auto px-3 pt-2.5 pb-6 border border-darkGray-30 max-w-112.5",onSubmit:w(q),children:[(0,m.jsx)("div",{className:"flex justify-between mt-2",children:(0,m.jsx)("h2",{className:"text-xl text-center font-semibold",children:"Reset Password"})}),(0,m.jsx)("div",{className:"mt-2 text-gray-80 text-sm",children:"Enter your new password"}),(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsx)(d.Z,(0,t.Z)({type:"password",fullWidth:!0,label:"Password",variant:"outlined",error:!!b.password,helperText:null===b||void 0===b||null===(s=b.password)||void 0===s?void 0:s.message},f("password",{required:"Password is required."})))}),(0,m.jsx)("div",{className:"mt-4",children:(0,m.jsx)(d.Z,(0,t.Z)({type:"password",fullWidth:!0,label:"confirm password",variant:"outlined",error:!!b.confirmPassword,helperText:null===b||void 0===b||null===(r=b.confirmPassword)||void 0===r?void 0:r.message},f("confirmPassword",{required:"Confirm password is required.",validate:{passwordEqual:function(e){return e===x().password||"Passwords must be same."}}})))}),(0,m.jsx)("div",{className:"mt-5",children:(0,m.jsx)(l.Z,{variant:"contained",fullWidth:!0,className:"h-10",style:{color:"white",backgroundColor:"#3a8fde"},type:"submit",disabled:P,children:P?(0,m.jsx)("div",{className:"h-8 w-8",children:(0,m.jsx)("div",{className:"circle-loader"})}):"Confirm"})}),!!N&&(0,m.jsx)("div",{className:"text-red-10 text-sm mb-1.5 mt-2.5 text-center",children:N})]})})}}}]);
//# sourceMappingURL=752.284f733b.chunk.js.map